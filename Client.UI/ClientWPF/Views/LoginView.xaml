<Window x:Class="ClientWPF.Views.LoginView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Login" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent"
        ResizeMode="CanResize"
        MouseDown="Window_MouseDown">

    <Window.Resources>
        <!-- PALETA DE COLORES -->
        <SolidColorBrush x:Key="SurfaceBrush" Color="#F2F0E9"/>
        <SolidColorBrush x:Key="PrimaryTextBrush" Color="#023E38"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#D92027"/>
        <SolidColorBrush x:Key="WhiteBrush" Color="#FFFFFF"/>

        <!-- FONDO DEGRADADO (Basado en el PrimaryTextBrush) -->
        <LinearGradientBrush x:Key="BackgroundGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#023E38" Offset="0.0"/>
            <GradientStop Color="#012925" Offset="1.0"/>
        </LinearGradientBrush>

        <!-- ESTILO DE INPUTS (Material 3 Filled/Outlined Hybrid) -->
        <Style x:Key="OrganicInputStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Background" Value="#CCFFFFFF"/>
            <!-- Blanco con transparencia para el glass -->
            <Setter Property="Height" Value="50"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Padding" Value="5"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FFFFFF"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- ESTILO BOTONES DE VENTANA (Min/Max/Cerrar) -->
        <Style x:Key="WindowControlButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#80FFFFFF"/>
            <!-- Blanco tenue por defecto -->
            <Setter Property="Width" Value="46"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1AFFFFFF"/>
                                <Setter Property="Foreground" Value="#FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="Tag" Value="Close">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="border" Background="Transparent">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="border" Property="Background" Value="#D92027"/>
                                        <Setter Property="Foreground" Value="White"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- ESTILO DE BOTÓN PRINCIPAL -->
        <Style x:Key="OrganicPrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource SurfaceBrush}"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Border x:Name="border" CornerRadius="25" Background="{TemplateBinding Background}" BorderThickness="0">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#B91B21"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#D92027" BlurRadius="15" ShadowDepth="0" Opacity="0.6"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98" CenterX="150" CenterY="25"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="OrganicTextButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="Transparent">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource AccentBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- FONDO PRINCIPAL DE LA VENTANA -->
    <Border Background="{StaticResource BackgroundGradient}" CornerRadius="0">
        <Grid>
            <!-- CAPA DE FONDO DECORATIVA (Opcional para dar textura) -->
            <Path Data="M0,0 L100,0 L0,100 Z" Fill="#1AFFFFFF" HorizontalAlignment="Left" VerticalAlignment="Top" Stretch="Uniform" Width="200" Height="200" Margin="-50,-50,0,0"/>

            <!-- BARRA DE CONTROL DE VENTANA (Siempre arriba a la derecha) -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,0,0,0" Panel.ZIndex="100">
                <Button Style="{StaticResource WindowControlButtonStyle}" Click="BtnMinimize_Click">
                    <Path Data="M0,5 L10,5" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="1.5"/>
                </Button>
                <Button Style="{StaticResource WindowControlButtonStyle}" Click="BtnMaximize_Click">
                    <Path Data="M0,0 L10,0 L10,10 L0,10 z" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="1.5"/>
                </Button>
                <Button Style="{StaticResource WindowControlButtonStyle}" Click="BtnClose_Click" Tag="Close">
                    <Path Data="M0,0 L10,10 M0,10 L10,0" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="1.5"/>
                </Button>
            </StackPanel>

            <!-- CARD DE LOGIN CENTRADA -->
            <Border Width="400" 
                    VerticalAlignment="Center" 
                    HorizontalAlignment="Center"
                    CornerRadius="24"
                    Padding="30,40"
                    BorderThickness="1"
                    BorderBrush="#40FFFFFF">

                <!-- Estilo Glassmorphism para el fondo de la tarjeta -->
                <Border.Background>
                    <SolidColorBrush Color="#F2F0E9" Opacity="0.95"/>
                </Border.Background>

                <Border.Effect>
                    <DropShadowEffect Color="#000000" BlurRadius="40" ShadowDepth="10" Opacity="0.4" Direction="270"/>
                </Border.Effect>

                <StackPanel>
                    <!-- HEADER / LOGO -->
                    <!-- Eliminamos la propiedad LetterSpacing="2" que causaba el error -->
                    <TextBlock Text="BIENVENIDO" FontSize="12" FontWeight="Bold" Foreground="{StaticResource AccentBrush}" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="DISTRIBUIDAS" FontSize="28" FontWeight="Black" Foreground="{StaticResource PrimaryTextBrush}" HorizontalAlignment="Center" Margin="0,0,0,35"/>

                    <!-- INPUT USUARIO -->
                    <TextBlock Text="Usuario" Foreground="{StaticResource PrimaryTextBrush}" FontSize="13" Margin="5,0,0,5" FontWeight="SemiBold"/>
                    <Border Style="{StaticResource OrganicInputStyle}">
                        <TextBox x:Name="txtUser" 
                                 Background="Transparent" BorderThickness="0" 
                                 VerticalContentAlignment="Center" Padding="10,0"
                                 FontSize="15" Foreground="{StaticResource PrimaryTextBrush}"
                                 FontWeight="Medium"
                                 CaretBrush="{StaticResource AccentBrush}"/>
                    </Border>

                    <!-- INPUT CONTRASEÑA -->
                    <TextBlock Text="Contraseña" Foreground="{StaticResource PrimaryTextBrush}" FontSize="13" Margin="5,0,0,5" FontWeight="SemiBold"/>
                    <Border Style="{StaticResource OrganicInputStyle}">
                        <PasswordBox x:Name="txtPass" 
                                     Background="Transparent" BorderThickness="0" 
                                     VerticalContentAlignment="Center" Padding="10,0"
                                     FontSize="15" Foreground="{StaticResource PrimaryTextBrush}"
                                     FontWeight="Medium"
                                     CaretBrush="{StaticResource AccentBrush}"/>
                    </Border>

                    <!-- BOTÓN ACCIÓN -->
                    <Button x:Name="btnIngresar" Content="INICIAR SESIÓN" 
                            Style="{StaticResource OrganicPrimaryButton}"
                            IsDefault="True"
                            Margin="0,10,0,20"
                            Click="BtnLogin_Click"/>

                    <!-- BOTÓN SALIR -->
                    <Button Content="Salir del Sistema" 
                            Style="{StaticResource OrganicTextButton}"
                            Click="BtnSalir_Click"
                            FontSize="13"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>